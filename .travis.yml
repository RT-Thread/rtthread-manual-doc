before_script:
  - uname -a 
  - cat /etc/lsb-release
  - sudo apt-get update -q
  - sudo apt-get install -q pandoc
  - sudo apt-get install -q ttf-arphic-gbsn00lp ttf-arphic-ukai ttf-wqy-microhei ttf-wqy-zenhei
  - sudo apt-get install -q texlive-xetex texlive-latex-recommended texlive-latex-extra
  - pandoc -v

env:
  global:
    - secure: "ZmpIwMG9zZ8XTLiNPuBQhoJbtaODMiAUQkg87wUkUn4x8jGu5DFSH+Epqu+O\n0J49KP7xvKrJAmNWCVkp5oc/LQO6ruot5Kqs4ZZKVU9IdB6md4skZp8LvfB9\nBRFybm0bymUd3A510RvNEBCAgqIiS2txcH/f6ieIC7hLgkgx+Tc="

rvm:
  - 1.9.3
script: 
  - chmod +x mkbok
  - ./mkbok --lang zh --build pdf
  - ./github-upload.rb rtthread_manual.zh.pdf RT-Thread/rtthread-manual-doc --description "generated by travis-ci, $TRAVIS_JOB_ID" --force --name rtthread_manual.zh.snapshot.pdf --skip-ssl-verification -t $GITHUB_TOKEN
